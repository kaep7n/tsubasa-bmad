# Story 3.3: Training Session List View

## Status
Ready

## Assigned To
James (Dev Agent)

## Story
**As a** coach,
**I want** to see a list of all training sessions,
**so that** I can review past sessions and plan future ones

## Acceptance Criteria
1. ✅ `TrainingListComponent` created with chronological list (most recent first)
2. ✅ Each list item displays: Date, time, duration, location, attendance summary
3. ✅ Data fetched from Supabase with attendance join
4. ✅ Filter options: All Sessions, Upcoming, Past
5. ✅ Search bar: Filter by location
6. ✅ FAB: "Create Training Session" button
7. ✅ Empty state message
8. ✅ Tap item: Navigate to detail screen
9. ✅ Swipe left: Show delete action
10. ✅ Offline mode: Works from IndexedDB cache
11. ✅ Pull-to-refresh
12. ✅ Loading state: Skeleton list items
13. ✅ Unit test: Filtering and attendance calculation
14. ✅ E2E test: Navigate and verify sessions

## Tasks / Subtasks

- [ ] **Task 1: Generate TrainingListComponent** (AC: 1)
  - [ ] Run: `ng generate component features/training/pages/training-list`
  - [ ] Add route: `/training`

- [ ] **Task 2: Create TrainingService** (AC: 3)
  - [ ] Implement getTrainingSessions() with attendance join
  - [ ] Calculate attendance summary: "12/15 attended"

- [ ] **Task 3: Build List UI** (AC: 2)
  - [ ] List items with date, time, duration, location, attendance
  - [ ] Progress bar for attendance

- [ ] **Task 4: Implement Filters** (AC: 4, 5)
  - [ ] Filter dropdown: All, Upcoming, Past
  - [ ] Search input: Filter by location

- [ ] **Task 5: Add FAB and Empty State** (AC: 6, 7)
  - [ ] FAB navigates to `/training/new`
  - [ ] Empty state component

- [ ] **Task 6: Navigation and Gestures** (AC: 8, 9)
  - [ ] Tap navigates to `/training/:id`
  - [ ] Swipe left shows delete

- [ ] **Task 7: Offline and Pull-to-Refresh** (AC: 10, 11, 12)
  - [ ] Load from IndexedDB when offline
  - [ ] Implement pull-to-refresh
  - [ ] Skeleton loaders

- [ ] **Task 8: Write Tests** (AC: 13, 14)
  - [ ] Unit test filtering logic
  - [ ] E2E test navigation

## Dev Notes

Component location: `/src/app/features/training/pages/training-list/`

Attendance summary calculation:
```typescript
const attended = attendance.filter(a => a.status === 'attended').length;
const total = attendance.length;
return `${attended}/${total} attended`;
```
[Source: PRD Epic 3 Story 3.3]

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2025-10-24 | 1.0 | Initial story creation | Bob (Scrum Master) |

## Dev Agent Record

### Agent Model Used
_To be populated by Dev Agent_

### Debug Log References
_To be populated by Dev Agent_

### Completion Notes List
_To be populated by Dev Agent_

### File List
_To be populated by Dev Agent_

## QA Results
_To be populated by QA Agent_
