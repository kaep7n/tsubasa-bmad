# Story 6.9: Statistics Dashboard Navigation & Layout

## Status
Ready

## Assigned To
James (Dev Agent)

## Story
**As a** coach,
**I want** an intuitive navigation structure for all statistics features,
**so that** I can quickly access the data I need

## Acceptance Criteria
1. ✅ "Statistics" section added to main navigation menu
2. ✅ Statistics landing page displays tabs: Overview, Players, Games
3. ✅ Mobile navigation: Bottom tab bar with icons, swipe gestures
4. ✅ Desktop navigation: Sidebar with expandable "Statistics" section
5. ✅ Breadcrumb navigation on detail screens
6. ✅ Quick actions in header: Date range filter, Export button
7. ✅ Loading states: Skeleton screens while calculating
8. ✅ Error states: Friendly messages if no data
9. ✅ Accessibility: Keyboard navigation, ARIA landmarks, skip links
10. ✅ E2E test: Navigate through all tabs, verify content loads

## Tasks / Subtasks

- [ ] **Task 1: Add Statistics to Main Navigation** (AC: 1)
  - [ ] Main menu: Add "Statistics" link
  - [ ] Icon: Chart or graph icon
  - [ ] Route: `/statistics`

- [ ] **Task 2: Build Statistics Landing Page** (AC: 2)
  - [ ] Generate component: `StatisticsLayoutComponent`
  - [ ] Tab navigation: Overview, Players, Games
  - [ ] Default tab: Overview
  - [ ] Router outlets for tab content

- [ ] **Task 3: Implement Mobile Navigation** (AC: 3)
  - [ ] Bottom tab bar with icons
  - [ ] Icons: Overview (chart), Players (person), Games (calendar)
  - [ ] Swipe gestures: Swipe left/right to switch tabs
  - [ ] Active tab highlighted

- [ ] **Task 4: Implement Desktop Navigation** (AC: 4)
  - [ ] Sidebar menu: Expandable "Statistics" section
  - [ ] Sub-items: Overview, Players, Games, Season Summary
  - [ ] Hover/click to expand

- [ ] **Task 5: Add Breadcrumb Navigation** (AC: 5)
  - [ ] Component: `BreadcrumbComponent`
  - [ ] Display: Home > Statistics > Players
  - [ ] Clickable links for navigation

- [ ] **Task 6: Add Quick Actions in Header** (AC: 6)
  - [ ] Date range filter dropdown
  - [ ] Export button (context-aware)
    - Players tab: Export CSV
    - Games tab: Generate Report
  - [ ] Apply to current tab

- [ ] **Task 7: Add Loading States** (AC: 7)
  - [ ] Skeleton screens while stats calculating
  - [ ] Placeholder cards, tables, charts

- [ ] **Task 8: Add Error States** (AC: 8)
  - [ ] No data: "No games played yet"
  - [ ] Calculation error: "Unable to load statistics. Please try again."
  - [ ] Friendly messaging with icons

- [ ] **Task 9: Add Accessibility** (AC: 9)
  - [ ] Keyboard navigation: Tab, Arrow keys
  - [ ] ARIA landmarks: <nav>, <main>, <aside>
  - [ ] Skip links: "Skip to content"

- [ ] **Task 10: Write Tests** (AC: 10)
  - [ ] E2E test: Navigate to Statistics
  - [ ] E2E test: Switch between tabs
  - [ ] E2E test: Apply date range filter
  - [ ] E2E test: Verify content loads on each tab

## Dev Notes

Component location: `/src/app/features/statistics/statistics-layout/`

Tab navigation structure:
```typescript
const statisticsTabs = [
  { label: 'Overview', icon: 'show_chart', route: 'overview' },
  { label: 'Players', icon: 'person', route: 'players' },
  { label: 'Games', icon: 'event', route: 'games' }
];
```

Swipe gesture (using Hammer.js or Angular CDK):
```typescript
@HostListener('swipeleft')
onSwipeLeft() {
  this.nextTab();
}

@HostListener('swiperight')
onSwipeRight() {
  this.previousTab();
}
```

Breadcrumb component:
```html
<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li><a routerLink="/">Home</a></li>
    <li><a routerLink="/statistics">Statistics</a></li>
    <li aria-current="page">Players</li>
  </ol>
</nav>
```

Context-aware export button:
```typescript
getExportButton(): { label: string, action: () => void } {
  const currentTab = this.activeTab;
  if (currentTab === 'players') {
    return { label: 'Export CSV', action: () => this.exportPlayerStats() };
  } else if (currentTab === 'games') {
    return { label: 'Generate Report', action: () => this.generateReport() };
  }
  return null;
}
```

Skeleton loading example:
```html
<div *ngIf="isLoading" class="skeleton">
  <div class="skeleton-card"></div>
  <div class="skeleton-card"></div>
  <div class="skeleton-card"></div>
</div>
```

[Source: PRD Epic 6 Story 6.9, Architecture Section 16 User Experience]

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2025-10-24 | 1.0 | Initial story creation | Bob (Scrum Master) |

## Dev Agent Record

### Agent Model Used
_To be populated by Dev Agent_

### Debug Log References
_To be populated by Dev Agent_

### Completion Notes List
_To be populated by Dev Agent_

### File List
_To be populated by Dev Agent_

## QA Results
_To be populated by QA Agent_
